<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>React Components Assignment</title>
  <style>
    body {
      font-family: sans-serif;
    }

    ul {
      margin: 0;
      padding: 0;
      list-style: none;
    }

    li {
      margin: 0 0 20px 0;
      padding: 10px;
      border: 1px solid #ddd;
    }

    .soldout {
      color: red;
      font-weight: bold;
    }

    .setlist {
      margin-top: 10px;
      padding-left: 15px;
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel" data-type="module">
    import React from "https://esm.sh/react@19";
    import ReactDOM from "https://esm.sh/react-dom@19/client";

    const root = ReactDOM.createRoot(document.getElementById("root"));

    // =========================
    // DATA
    // =========================
    const bandsData = [
      {
        id: "1",
        bandName: "The Midnight Keys",
        genre: "Jazz",
        stage: "Main Stage",
        isSoldOut: false,
        songs: ["Autumn Lights", "Blue Night", "City Rain"]
      },
      {
        id: "2",
        bandName: "Neon Tigers",
        genre: "Rock",
        stage: "Stage B",
        isSoldOut: true,
        songs: ["Fire Run", "Electric Heart"]
      },
      {
        id: "3",
        bandName: "Soul Horizon",
        genre: "R&B",
        stage: "Main Stage",
        isSoldOut: false,
        songs: []
      }
    ];

    const siteName = "Summer Music Festival";

    // =========================
    // TODO 1
    // Create a BandListItem component
    // It should receive props
    // It should display:
    // - band name
    // - genre
    // - stage
    // - number of songs
    // =========================
    const BandListItem = (props) => {

      const { band } = props;

      // TODO: get band from props

      return (
        <li>
          <span>{band.bandName}, </span>

          <span>{band.genre}, </span>

          <span>{band.stage}, </span>

          <span>{band.songs.length} songs </span>

          {band.isSoldOut && <span className="soldout">SOLD OUT</span>}

          {
            band.songs.length > 0 ? (
              <ul className="setlist">
                {band.songs.map((song, index) => (
                  <li key={index}>{song}</li>
                ))}
              </ul>
            ) : (
              <p>No setlist</p>
            )
          }
        </li>
      );
    };


    // =========================
    // TODO 2
    // Create BandList component
    // It receives bands via props
    // It should map over bands
    // =========================
    const BandList = (props) => {
      const { bands } = props;
      return (
        <ul>
          {bands.map((band, index) => (
            <BandListItem band={band} key={index} />
          ))}
        </ul>
      );
    };


    // =========================
    // TODO 3
    // App component
    // =========================
    const App = () => {
      return (
        <div className="app">
          <h1>{siteName}</h1>
          {
            bandsData.length > 0 ? (
              <BandList bands={bandsData} />
            ) : (
              <p>No Bands Today! :(</p>
            )
          }

        </div>
      );
    }

    root.render(<App />);
  </script>
</body>

</html>